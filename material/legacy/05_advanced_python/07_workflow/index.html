
<!doctype html>
<html lang="it" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.5">
    
    
      
        <title>Workflow - Informatica per l'Ingegneria (classe N)</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-J2XESD8WDV"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-J2XESD8WDV",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-J2XESD8WDV",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#workflow" class="md-skip">
          Vai al contenuto
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Intestazione">
    <a href="../../../.." title="Informatica per l&#39;Ingegneria (classe N)" class="md-header__button md-logo" aria-label="Informatica per l'Ingegneria (classe N)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Informatica per l'Ingegneria (classe N)
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Workflow
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Cancella" aria-label="Cancella" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inizializza la ricerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigazione" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Informatica per l&#39;Ingegneria (classe N)" class="md-nav__button md-logo" aria-label="Informatica per l'Ingegneria (classe N)" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Informatica per l'Ingegneria (classe N)
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home del corso
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tracce di esame svolte
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tracce di esame svolte
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../exams/17_01_2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traccia del 17 gennaio 2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algoritmi di ordinamento
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Algoritmi di ordinamento
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../xx_sorting/01_selection_sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Selection sort
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setup-del-progetto" class="md-nav__link">
    <span class="md-ellipsis">
      Setup del progetto
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inizializzazione-del-progetto" class="md-nav__link">
    <span class="md-ellipsis">
      Inizializzazione del progetto
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-del-progetto" class="md-nav__link">
    <span class="md-ellipsis">
      Build del progetto
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Build del progetto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#documentare-il-progetto" class="md-nav__link">
    <span class="md-ellipsis">
      Documentare il progetto
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#github-actions" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub Actions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codecov" class="md-nav__link">
    <span class="md-ellipsis">
      CodeCov
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read-the-docs" class="md-nav__link">
    <span class="md-ellipsis">
      Read the docs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pypi" class="md-nav__link">
    <span class="md-ellipsis">
      PyPI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusioni" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusioni
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permanent link">&para;</a></h1>
<p>In questo articolo, metteremo assieme tutto quello che abbiamo visto negli articoli precedenti creando un singolo progetto dall'inizio alla fine. Al termine dell'articolo:</p>
<ul>
<li>creeremo una pipeline di CI/CD mediante GitHub Actions</li>
<li>configureremo il coverage reporting mediante CodeCov</li>
<li>pubblicheremo il package su PyPi ed la documentazione su Read the Docs</li>
<li>aggiorneremo PyPI e Read the Docs mediante delle GitHub Actions</li>
</ul>
<h2 id="setup-del-progetto">Setup del progetto<a class="headerlink" href="#setup-del-progetto" title="Permanent link">&para;</a></h2>
<p>Creiamo un generatore di citazioni casuali che restituisca una citazione a caso da un certo insieme.</p>
<h2 id="inizializzazione-del-progetto">Inizializzazione del progetto<a class="headerlink" href="#inizializzazione-del-progetto" title="Permanent link">&para;</a></h2>
<p>Per prima cosa, creiamo una nuova cartella per il nostro progetto:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>mkdir<span class="w"> </span>random-quote-generator
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>random-quote-generator
</code></pre></div>
<p>Inizializziamo il progetto usando Pipenv. Ricordiamoci di assegnare un nome univoco in modo tale da evitare collisioni con altri package su PyPI.</p>
<p>Creiamo quindi una nuova repository su GitHub, ed inizializziamo una repository git all'interno del nostro progetto.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>init
$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>pyproject.toml
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;first commit&quot;</span>
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>-M<span class="w"> </span>main
$<span class="w"> </span>git<span class="w"> </span>remote<span class="w"> </span>add<span class="w"> </span>origin<span class="w"> </span>git@github.com:&lt;your-github-username&gt;/random-quote-generator.git
$<span class="w"> </span>git<span class="w"> </span>fetch
$<span class="w"> </span>git<span class="w"> </span>branch<span class="w"> </span>--set-upstream-to<span class="o">=</span>origin/main<span class="w"> </span>main
$<span class="w"> </span>git<span class="w"> </span>pull<span class="w"> </span>origin<span class="w"> </span>main<span class="w"> </span>--rebase
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</code></pre></div>
<p>Una volta completato il setup base, continuiamo aggiungendo le seguenti dipendenze:</p>
<ul>
<li>pytest</li>
<li>pytest-cov</li>
<li>Black</li>
<li>isort</li>
<li>Flake8</li>
<li>Bandit</li>
<li>Safety</li>
</ul>
<p>Install:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>poetry<span class="w"> </span>add<span class="w"> </span>--dev<span class="w"> </span>pytest<span class="w"> </span>pytest-cov<span class="w"> </span>black<span class="w"> </span>isort<span class="w"> </span>flake8<span class="w"> </span>bandit<span class="w"> </span>safety
</code></pre></div>
<p>Aggiungiamo i nuovi file pipenv.lock assieme al pipfile a git:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>Pipfile<span class="w"> </span>Pipfile.lock
</code></pre></div>
<h2 id="build-del-progetto">Build del progetto<a class="headerlink" href="#build-del-progetto" title="Permanent link">&para;</a></h2>
<p>Creiamo adesso una nuova cartella chiamata "random<em>quote</em>generator". All'interno della cartella. aggiungiamo un file <code>__init__.py</code>, in modo che venga trattata come un package, assieme ad un file chiamato <code>quotes.py</code>.</p>
<div class="highlight"><pre><span></span><code>random-quote-generator
├── poetry.lock
├── pyproject.toml
└── random_quote_generator
    ├── __init__.py
    └── quotes.py
</code></pre></div>
<p>All'interno di <code>quotes.py</code> aggiungiamo:</p>
<div class="highlight"><pre><span></span><code><span class="n">quotes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">&quot;quote&quot;</span><span class="p">:</span> <span class="s2">&quot;A long descriptive name is better than a short &quot;</span>
        <span class="s2">&quot;enigmatic name. A long descriptive name is better &quot;</span>
        <span class="s2">&quot;than a long descriptive comment.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Robert C. Martin&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;quote&quot;</span><span class="p">:</span> <span class="s2">&quot;You should name a variable using the same &quot;</span>
        <span class="s2">&quot;care with which you name a first-born child.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Robert C. Martin&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">&quot;quote&quot;</span><span class="p">:</span> <span class="s2">&quot;Any fool can write code that a computer &quot;</span>
        <span class="s2">&quot;can understand. Good programmers write code&quot;</span>
        <span class="s2">&quot; that humans can understand.&quot;</span><span class="p">,</span>
        <span class="s2">&quot;author&quot;</span><span class="p">:</span> <span class="s2">&quot;Martin Fowler&quot;</span><span class="p">,</span>
    <span class="p">},</span>
<span class="p">]</span>
</code></pre></div>
<p>Ovviamente non c'è niente di speciale qui. Soltanto una lista di dizionari, uno per ogni citazione. Quindi, creiamo una nuova cartella nella radice di progetto chiamata <code>tests</code> ed aggiungiamo i file seguenti:</p>
<div class="highlight"><pre><span></span><code>tests
├── __init__.py
└── test_get_quote.py
</code></pre></div>
<p>Modifichiamo il file <code>test_get_quote.py</code> come segue:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">random_quote_generator</span> <span class="kn">import</span> <span class="n">get_quote</span>
<span class="kn">from</span> <span class="nn">random_quote_generator.quotes</span> <span class="kn">import</span> <span class="n">quotes</span>


<span class="k">def</span> <span class="nf">test_get_quote</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    GIVEN</span>
<span class="sd">    WHEN get_quote is called</span>
<span class="sd">    THEN random quote from quotes is returned</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">quote</span> <span class="o">=</span> <span class="n">get_quote</span><span class="p">()</span>

    <span class="k">assert</span> <span class="n">quote</span> <span class="ow">in</span> <span class="n">quotes</span>
</code></pre></div>
<p>Eseguiamo i test:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pytest<span class="w"> </span>tests
</code></pre></div>
<p>Questi dovrebbero fallire:</p>
<div class="highlight"><pre><span></span><code>E<span class="w">   </span>ImportError:<span class="w"> </span>cannot<span class="w"> </span>import<span class="w"> </span>name<span class="w"> </span><span class="s1">&#39;get_quote&#39;</span><span class="w"> </span>from<span class="w"> </span><span class="s1">&#39;random_quote_generator&#39;</span>
</code></pre></div>
<p>A questo punto, aggiungiamo un nuovo file chiamato <code>get_quote.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">random</span>

<span class="kn">from</span> <span class="nn">random_quote_generator.quotes</span> <span class="kn">import</span> <span class="n">quotes</span>


<span class="k">def</span> <span class="nf">get_quote</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Get random quote</span>

<span class="sd">    Get randomly selected quote from database our programming quotes</span>

<span class="sd">    :return: selected quote</span>
<span class="sd">    :rtype: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">quotes</span><span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">quotes</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
<p>In pratica, stiamo scegliendo una citazione generando un intero casuale mediante <code>random.randint</code> tra 0 e l'ultimo indice.</p>
<p>Esportiamo la funzione in <code>random_quote_generator/__init__.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Random Quote Generator</span>
<span class="sd">======================</span>

<span class="sd">Get random quote from our database of programming wisdom</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">.get_quote</span> <span class="kn">import</span> <span class="n">get_quote</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;get_quote&quot;</span><span class="p">]</span>
</code></pre></div>
<p>La funzione viene importata ed elencata all'interno dell'attributo <code>__all__</code>, che è una lista di oggetti pubblici per il modulo. In altre parole, quando qualcuno usa <code>from random_quote_generator import *</code>, soltanto i nomi elencati in <code>__all__</code> saranno importati.</p>
<p>Il test dovrebbe adesso avere successo:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>python<span class="w"> </span>-m<span class="w"> </span>pytest<span class="w"> </span>tests
</code></pre></div>
<p>Creiamo un file <code>.gitignore</code> alla radice del nostro progetto, ed aggiungiamo le cartelle <code>random_quote_generator</code> e <code>test</code> a git assieme al file <code>.gitignore</code>:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>random_quote_generator/<span class="w"> </span>tests/<span class="w"> </span>.gitignore
</code></pre></div>
<p>Abbiamo finito. Il package è pronto per essere inviato su PyPI.</p>
<h3 id="documentare-il-progetto">Documentare il progetto<a class="headerlink" href="#documentare-il-progetto" title="Permanent link">&para;</a></h3>
<p>Il nostro package funziona, ma i nostri utenti dovranno controllarne il codice sorgente per vedere come usarlo. Abbiamo già incluso le docstring, per cui possiamo facilmente creare la documentazione del progetto "standalone" mediante Sphinx.</p>
<p>Con Sphinx installato, eseguiamo la seguente istruzione per fare lo scaffold dei file e delle cartelle per Sphinx dalla radice di progetto:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>sphinx-quickstart<span class="w"> </span>docs
</code></pre></div>
<p>Ci verranno fatte alcune domande:</p>
<div class="highlight"><pre><span></span><code>&gt;<span class="w"> </span>Separate<span class="w"> </span><span class="nb">source</span><span class="w"> </span>and<span class="w"> </span>build<span class="w"> </span>directories<span class="w"> </span><span class="o">(</span>y/n<span class="o">)</span><span class="w"> </span><span class="o">[</span>n<span class="o">]</span>:<span class="w"> </span>n
&gt;<span class="w"> </span>Project<span class="w"> </span>name:<span class="w"> </span>Random<span class="w"> </span>Quote<span class="w"> </span>Generator
&gt;<span class="w"> </span>Author<span class="w"> </span>name<span class="o">(</span>s<span class="o">)</span>:<span class="w"> </span>Your<span class="w"> </span>Name
&gt;<span class="w"> </span>Project<span class="w"> </span>release<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span><span class="m">0</span>.1.0
&gt;<span class="w"> </span>Project<span class="w"> </span>language<span class="w"> </span><span class="o">[</span>en<span class="o">]</span>:<span class="w"> </span>en
</code></pre></div>
<p>A questo punto, aggiorniamo la configurazione del progetto. Apriamo <code>docs/conf.py</code> e rimpiazziamo questa parte:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># import os</span>
<span class="c1"># import sys</span>
<span class="c1"># sys.path.insert(0, os.path.abspath(&#39;.&#39;))</span>
</code></pre></div>
<p>con questa:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="s1">&#39;..&#39;</span><span class="p">))</span>
</code></pre></div>
<p>Adesso, autodoc, che è usato per prendere la documentazione dalle docstring, cercherà i moduli nella cartella padre di "docs".</p>
<p>Aggiungiamo la seguente estensione alla lista delle estensioni:</p>
<div class="highlight"><pre><span></span><code>extensions = [
    &#39;sphinx.ext.autodoc&#39;,
]
</code></pre></div>
<p>Aggiorniamo <code>docs/index.rst</code> come segue:</p>
<div class="highlight"><pre><span></span><code><span class="cp">.. Random Quote Generator documentation master file, created by</span>
<span class="cp">   sphinx-quickstart on Mon Dec 21 22:27:23 2020.</span>
<span class="cp">   You can adapt this file completely to your liking, but it should at least</span>
<span class="cp">   contain the root `toctree` directive.</span>

<span class="gh">Welcome to Random Quote Generator&#39;s documentation!</span>
<span class="gh">==================================================</span>

<span class="p">..</span> <span class="ow">automodule</span><span class="p">::</span> random_quote_generator
    <span class="nc">:members:</span>

<span class="gh">Indices and tables</span>
<span class="gh">==================</span>

<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`genindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`modindex`</span>
<span class="m">*</span> <span class="na">:ref:</span><span class="nv">`search`</span>
</code></pre></div>
<p>Questo file dovrebbe essere escluso da Flake8, che aggiungeremo a breve. Per cui creiamo un file <code>.flake8</code> nella cartella radice del progetto:</p>
<div class="highlight"><pre><span></span><code>[flake8]
exclude =
    docs/conf.py,
</code></pre></div>
<p>Aggiungiamo la cartella <code>docs</code> e <code>.flake8</code> a git:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>docs/<span class="w"> </span>.flake8
</code></pre></div>
<h2 id="github-actions">GitHub Actions<a class="headerlink" href="#github-actions" title="Permanent link">&para;</a></h2>
<p>Adesso è il momento di collegare una pipeline di CI con GitHub Actions. Aggiungiamo i seguenti file e cartelle alla radice di progetto.</p>
<div class="highlight"><pre><span></span><code>.github
└──<span class="w"> </span>workflows
<span class="w">    </span>└──<span class="w"> </span>branch.yaml
</code></pre></div>
<p>All'interno di branch.yaml, aggiungiamo:</p>
<div class="highlight"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Push</span>
<span class="nt">on</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">push</span><span class="p p-Indicator">]</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">test</span><span class="p">:</span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">fail-fast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">matrix</span><span class="p">:</span>
<span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;3.10&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">poetry-version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;1.1.13&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">ubuntu-latest</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v3</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.python-version }}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run image</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">abatilo/actions-poetry@v2.1.4</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">poetry-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.poetry-version }}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry install</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run tests</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run pytest --cov=./ --cov-report=xml</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload coverage to Codecov</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">codecov/codecov-action@v2</span>
<span class="w">  </span><span class="nt">code-quality</span><span class="p">:</span>
<span class="w">    </span><span class="nt">strategy</span><span class="p">:</span>
<span class="w">      </span><span class="nt">fail-fast</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="nt">matrix</span><span class="p">:</span>
<span class="w">        </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;3.10&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">poetry-version</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&#39;1.1.13&#39;</span><span class="p p-Indicator">]</span>
<span class="w">        </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">ubuntu-latest</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.os }}</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v3</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">python-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.python-version }}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run image</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">abatilo/actions-poetry@v2.1.4</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">poetry-version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ matrix.poetry-version }}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Install dependencies</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry install</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run black</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run black . --check</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run isort</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run isort . --check-only --profile black</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run flake8</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run flake8 .</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run bandit</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run bandit .</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Run saftey</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">poetry run safety check</span>
</code></pre></div>
<p>Questa configurazione:</p>
<ul>
<li>viene eseguita ad ogni push su ogni singolo branch (on: [push])</li>
<li>esegue l'ultima versione di Ubuntu (ubuntu-latest)</li>
<li>usa Python 3.10 (python-version: [3.10], python-version: ${{ matrix.python-version }})</li>
<li>usa Poetry versione 1.1.13 (poetry-version: [1.1.13], poetry-version: ${{ matrix.poetry-version }})</li>
</ul>
<p>Vengono definiti due job: test e code-quality. Come suggerisce il nome, i test sono eseguiti nel job test, mentre i controlli sulla qualità del codice sono eseguiti nel job code-quality.</p>
<p>Ora ad ogni push nella repository GitHub, i job test e code quality saranno eseguiti.</p>
<p>Aggiungiamo .github a git:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>.github/
</code></pre></div>
<p>Eseguiamo tutti i controlli per la qualità del codice:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>black<span class="w"> </span>.
$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>isort<span class="w"> </span>.<span class="w"> </span>--profile<span class="w"> </span>black
$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>flake8<span class="w"> </span>.
$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>bandit<span class="w"> </span>.
$<span class="w"> </span>pipenv<span class="w"> </span>run<span class="w"> </span>safety<span class="w"> </span>check
</code></pre></div>
<p>Assicuriamoci di aggiungere ogni file che può essere cambiato a git. Quindi, effettuiamo la commit ed il push delle nostre modifiche a GitHub.</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>docs/<span class="w"> </span>random_quote_generator/<span class="w"> </span>tests/
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;Package ready&#39;</span>
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</code></pre></div>
<p>Dovremmo vedere il nostro workflow eseguito sul tab "Actions" nella nostra repository GitHub. Assicuriamoci che passi prima di proseguire.</p>
<h2 id="codecov">CodeCov<a class="headerlink" href="#codecov" title="Permanent link">&para;</a></h2>
<p>A questo punto potremo configurare CodeCov per tracciare la code coverage. Navighiamo su <a href="http://codecov.io/">http://codecov.io/</a>, e logghiamo con il nostro account GitHub per trovare la nostra repository.</p>
<p>Seguiamo la guida Quick Start per impostare ed eseguire CodeCov.</p>
<p>Eseguiamo nuovamente il workflow definito dalle GitHub Actions. Una volta termianto, dovremmo essere in grado di vedre il coverage report su CodeCov.</p>
<p>Adesso, ogni volta che viene eseguito il nostro workflow, un coverage report sarà generato e caricato su CodeCov. Possiamo analizzare le modifiche nelle percentuali di coverage per branch, commit e pull request, focalizzandoci sugli aumenti e decrementi nel coverage nel tempo.</p>
<h2 id="read-the-docs">Read the docs<a class="headerlink" href="#read-the-docs" title="Permanent link">&para;</a></h2>
<p>Useremo Read the Docs per ospitare la nostra documentazione. Navighiamo su <a href="https://readthedocs.org">https://readthedocs.org</a>, e logghiamoci usando il nostro account GitHub.</p>
<p>Adesso, clicchiamo su "Import a Project". Dopo averlo fatto, aggiorniamo i nostri progetti, ed aggiungiamo quello che abbiamo appena pushato su GitHub. Apriamo il progetto e navighiamo nella sezione "Admin". Quindi, su "Advanced Settings", impostiamo il branch di default su main. Non dimentichiamo di salvare le nostre modifiche.</p>
<p>Avremo bisogno di alcuni minuti per costruire la documentazione. Una volta fatto, dovremmo essere in grado di vedere la documentazione del progetto ad un link simile a <a href="https://your-project-slug-on-readthedocs.readthedocs.io">https://your-project-slug-on-readthedocs.readthedocs.io</a>.</p>
<p>Di default, la documentazione sarà ricostruita ad ogni push sul branch main. Con questo, l'unica cosa rimasta da fare è pubblicare il package su PyPI.</p>
<h2 id="pypi">PyPI<a class="headerlink" href="#pypi" title="Permanent link">&para;</a></h2>
<p>Iniziamo aggiungendo la seguente sezione a pyproject.toml in modo che il modulo "random<em>quote</em>generator" sia incluso nella distribuzione su PyPI:</p>
<div class="highlight"><pre><span></span><code>packages = [
    { include = &quot;random_quote_generator&quot; },
]
</code></pre></div>
<p>Il nostro file diventerà quindi:</p>
<div class="highlight"><pre><span></span><code>[tool.poetry]
name = &quot;random-quote-generator-93618&quot;
packages = [
    { include = &quot;random_quote_generator&quot; },
]
version = &quot;0.1.0&quot;
description = &quot;&quot;
authors = [&quot;Amir Tadrisi &lt;notreal@gmail.com&gt;&quot;]

[tool.poetry.dependencies]
python = &quot;^3.10&quot;

[tool.poetry.dev-dependencies]
pytest = &quot;^7.1.2&quot;
pytest-cov = &quot;^3.0.0&quot;
black = &quot;^22.3.0&quot;
isort = &quot;^5.10.1&quot;
flake8 = &quot;^4.0.1&quot;
bandit = &quot;^1.7.4&quot;
safety = &quot;^1.10.3&quot;

[build-system]
requires = [&quot;poetry-core&gt;=1.0.0&quot;]
build-backend = &quot;poetry.core.masonry.api&quot;
Add a new file called release.yaml to &quot;.github/workflows&quot;:

name: Release
on:
  release:
    types:
      - created

jobs:
  publish:
    strategy:
      fail-fast: false
      matrix:
        python-version: [&#39;3.10&#39;]
        poetry-version: [&#39;1.1.13&#39;]
        os: [ubuntu-latest]
    runs-on: ${{ matrix.os }}
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-python@v3
        with:
          python-version: ${{ matrix.python-version }}
      - name: Run image
        uses: abatilo/actions-poetry@v2.1.4
        with:
          poetry-version: ${{ matrix.poetry-version }}
      - name: Publish
        env:
          PYPI_TOKEN: ${{ secrets.PYPI_TOKEN }}
        run: |
          poetry config pypi-token.pypi $PYPI_TOKEN
          poetry publish --build
</code></pre></div>
<p>Quindi, quando si crea una nuova release, il package sarà pubblicato su PyPI.</p>
<p>Quindi dovremo creare un token PyPI. Creiamo un account su PyPI, se non ne abbiamo già uno. Quindi, una volta loggati, clicchiamo su "Account settings" per aggiungere un nuovo API token. Copiamo il token. Dovremo adesso aggiungerlo ai <em>secrets</em> della nostra repository GitHub. Per farlo, clicchiamo sul tab "Settings", e quindi "Secrets" e poi "Actions". Usiamo PYPI_TOKEN per il nome al secret ed il valore del token come valore.</p>
<p>Adesso siamo pronti per creare la nostra prima release.</p>
<p>Aggiungiamo il file <code>release.yaml</code> a git così come il file <code>pyproject.toml</code> aggiornato, effettuiamone la commit, e pushiamo:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>git<span class="w"> </span>add<span class="w"> </span>.github/workflows/release.yaml<span class="w"> </span>pyproject.toml
$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s1">&#39;Ready for first release&#39;</span>
$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>-u<span class="w"> </span>origin<span class="w"> </span>main
</code></pre></div>
<p>Per creare una nuova release, navighiamo su <a href="https://github.com/">https://github.com/</a><username>/<project-name>/releases/. Clicchiamo su "Create a new release". Indichiamo 0.1.0 come tag, ed Initial Release per il titolo.</p>
<p>Questo lancerà un nuovo workflow sulle GitHub Actions. Una volta completato, dovremmo essere in grado div ered il nostro package su PyPI.</p>
<p>A questo punto dovremmo essere in grado di installare il nostro package da PyPI.</p>
<h2 id="conclusioni">Conclusioni<a class="headerlink" href="#conclusioni" title="Permanent link">&para;</a></h2>
<p>Impostiamo una semplice pipeline di CI/CD per un package Python pubblicato su PyPI. Il codice su ogni branch viene controllato con i test e la code quality. Possiamo controllare la code coverage all'interno di CodeCov. Alla release, nuove versioni vengono deployate su PyPI, ed i documenti sono aggionrati. Quesot può semplificare di molto la nostra vita.</p>
<p>Le pipeline automatizzate come questa ci assicurano che il nostro worfklow rimanga lo stesso giorno dopo giorno. Tuttavia, dovremo sempre essere attenti alla cultura di lavoro del nostro team. Eseguiamo i test sul push, ma devono essere presenti. Infatti, automatizzare i test non darà alcun esito se non ci sono test. L'automatizzazione non farà alcuna differenza anche alla dimensione dei nostri cambi. Cerchiamo di mantenerli piccoli, facendo spesso dei merge sul main. I piccoli cambi assieme al TDD ed una pipeline di CI/CD possono fare un'enorme differenza alla qualità del software che stiamo producendo. Non dimentichiamo che si inizia e finisce sempre con la team culture.</p>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Angelo Cardellicchio - MIT License
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/anhelus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:angelo.cardellicchio@poliba.it" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copiato", "clipboard.copy": "Copia", "search.result.more.one": "1 altro in questa pagina", "search.result.more.other": "# altri in questa pagina", "search.result.none": "Nessun documento trovato", "search.result.one": "1 documento trovato", "search.result.other": "# documenti trovati", "search.result.placeholder": "Scrivi per iniziare a cercare", "search.result.term.missing": "Non presente", "select.version": "Seleziona la versione"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c18c5fb9.min.js"></script>
      
        <script src="../../../../js/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>